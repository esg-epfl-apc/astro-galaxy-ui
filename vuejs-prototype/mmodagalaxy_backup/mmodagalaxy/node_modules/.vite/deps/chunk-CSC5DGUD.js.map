{
  "version": 3,
  "sources": ["../../@bokeh/bokehjs/build/js/lib/models/glyphs/webgl/single_marker.js"],
  "sourcesContent": ["import { BaseMarkerGL } from \"./base_marker\";\nexport class SingleMarkerGL extends BaseMarkerGL {\n    glyph;\n    static __name__ = \"SingleMarkerGL\";\n    constructor(regl_wrapper, glyph) {\n        super(regl_wrapper, glyph);\n        this.glyph = glyph;\n    }\n    _get_visuals() {\n        return this.glyph.visuals;\n    }\n    draw(indices, main_glyph, transform) {\n        this._draw_impl(indices, transform, main_glyph.glglyph);\n    }\n    _draw_impl(indices, transform, main_gl_glyph) {\n        if (main_gl_glyph.data_changed || main_gl_glyph.data_mapped) {\n            main_gl_glyph.set_data();\n            main_gl_glyph.data_changed = false;\n            main_gl_glyph.data_mapped = false;\n        }\n        if (this.visuals_changed) {\n            this._set_visuals();\n            this.visuals_changed = false;\n        }\n        const nmarkers = main_gl_glyph.nvertices;\n        const prev_nmarkers = this._show.length;\n        const show_array = this._show.get_sized_array(nmarkers);\n        if (indices.length < nmarkers) {\n            this._show_all = false;\n            // Reset all show values to zero.\n            show_array.fill(0);\n            // Set show values of markers to render to 255.\n            for (let j = 0; j < indices.length; j++) {\n                show_array[indices[j]] = 255;\n            }\n        }\n        else if (!this._show_all || prev_nmarkers != nmarkers) {\n            this._show_all = true;\n            show_array.fill(255);\n        }\n        this._show.update();\n        this._draw_one_marker_type(main_gl_glyph.marker_type, transform, main_gl_glyph);\n    }\n}\n//# sourceMappingURL=single_marker.js.map"],
  "mappings": ";;;;;;;;AACO,IAAM,iBAAN,cAA6B,aAAa;AAAA,EAG7C,YAAY,cAAc,OAAO;AAC7B,UAAM,cAAc,KAAK;AAH7B;AAII,SAAK,QAAQ;AAAA,EACjB;AAAA,EACA,eAAe;AACX,WAAO,KAAK,MAAM;AAAA,EACtB;AAAA,EACA,KAAK,SAAS,YAAY,WAAW;AACjC,SAAK,WAAW,SAAS,WAAW,WAAW,OAAO;AAAA,EAC1D;AAAA,EACA,WAAW,SAAS,WAAW,eAAe;AAC1C,QAAI,cAAc,gBAAgB,cAAc,aAAa;AACzD,oBAAc,SAAS;AACvB,oBAAc,eAAe;AAC7B,oBAAc,cAAc;AAAA,IAChC;AACA,QAAI,KAAK,iBAAiB;AACtB,WAAK,aAAa;AAClB,WAAK,kBAAkB;AAAA,IAC3B;AACA,UAAM,WAAW,cAAc;AAC/B,UAAM,gBAAgB,KAAK,MAAM;AACjC,UAAM,aAAa,KAAK,MAAM,gBAAgB,QAAQ;AACtD,QAAI,QAAQ,SAAS,UAAU;AAC3B,WAAK,YAAY;AAEjB,iBAAW,KAAK,CAAC;AAEjB,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,mBAAW,QAAQ,CAAC,CAAC,IAAI;AAAA,MAC7B;AAAA,IACJ,WACS,CAAC,KAAK,aAAa,iBAAiB,UAAU;AACnD,WAAK,YAAY;AACjB,iBAAW,KAAK,GAAG;AAAA,IACvB;AACA,SAAK,MAAM,OAAO;AAClB,SAAK,sBAAsB,cAAc,aAAa,WAAW,aAAa;AAAA,EAClF;AACJ;AAxCI,cAFS,gBAEF,YAAW;",
  "names": []
}
